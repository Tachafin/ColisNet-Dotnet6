@using _1311.Models.ViewModels.HomeViewModels
@inject IJsonHelper Json;
@model HomeIndexViewModel;


@{
    ViewData["Title"] = "Dashboard";

}
<style>
    body {
        background-color: #EEF2F4;
    }

    .styleFont {
        color: #ff6384;
        color: #001f3f;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div class="row mt-4 mb-2">
    <i class="icon-paragraph-left3 mr-2"></i>

    <h3 style="color:#001f3f" class="display-3"> <i class="bi bi-speedometer2 mr-2"></i>Dashboard</h3>

</div>



<div class="card rounded-lg">
    <div class="card-header bg-white display-6" >
      <span style="color:#001f3f">   Statistique</span>
       
    </div>

    <div class="card-body">
        
        <div class="row">
            <div class="col  m-2 border border-primary rounded" style=" /*background-color:rgba(45,206,152,.82)*/">
                <img src="/theme/assets/img/Bons.png" style="" class="w-25 m-2" />
                <h1 class="">Totale Earnings  <span class="float-right "> @Model.totale DH</span></h1>

            </div>
            <div class="col   m-2 border border-warning rounded" style="/*background-color:#feb969*/">
                <img src="/theme/assets/img/fct.png" class="w-25 m-2" />
                <h1 class="">Commission <span class="float-right "> @Model.commision DH</span></h1>

            </div>
            <div class="col   m-2 border border-success rounded" style="/*background-color:#B1B2FF*/">
                <img src="/theme/assets/img/demande.png" class="w-25 m-2" />
                <h1 class="">NET EARNINGS  <span class="float-right "> @Model.net DH</span></h1>

            </div>

        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        <div class="card mt-2 mb-2">
            <div class="card-header bg-white display-6">  <span style="color:#001f3f">   Statistique Colis</span> </div>
            <div class="card-body">
                <div class="row">
                    <div class="col">
                        <canvas id="donutChart" width="400" height="400"></canvas>
                    </div>
                    <div class="col">
                        <div class="card" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Toutes les Colis : <span style="float:right"> @Model.CountColis</span>
                            </div>
                        </div>
                        <div class="card mt-3" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Colis en attente de ramassage : <span style="float:right"> @Model.listcolisenattente </span>
                            </div>
                        </div>
                         <div class="card mt-3" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Colis Livre: <span style="float:right"> @Model.CountColisLivre </span>
                            </div>
                        </div>
                         <div class="card mt-3" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Colis Retourne: <span style="float:right"> @Model.CountColisRetourne </span>
                            </div>
                        </div>



                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="col">
        <div class="card mt-1">
            <div class="card-header bg-white display-6">
           <span style="color:#001f3f">    Les  Services </span>
            </div>
            <div class="card-body">
                 <div class="card mt-1" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Bons Livraison : <span style="float:right"> @Model.CountBonsLivraison </span>
                            </div>
                        </div>
                         <div class="card mt-3" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Facture : <span style="float:right"> @Model.CountFacture </span>
                            </div>
                        </div>
                         <div class="card mt-3" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Demande Ramassage : <span style="float:right"> @Model.CountDemande </span>
                            </div>
                        </div>
                         <div class="card mt-3" style=" background-color: #EEF2F4;">
                            <div class="card-body">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
                                </svg>  Reclamation : <span style="float:right"> @Model.CountBonsLivraison </span>
                            </div>
                        </div>
            </div>

        </div>
    </div>

</div>







@*<div class="row">
    <div class="col bg-white shadow m-2 border rounded">
        <img src="/theme/assets/img/col.png" class="w-25 m-2" />
        <h1 class="text-black-50 "> <span class="">  Colis en Attente </span> <span class="float-right styleFont"> @Model.listcolisenattente </span></h1>

    </div>
    <div class="col bg-white shadow  m-2 border rounded">
        <img src="/theme/assets/img/col.png" class="w-25 m-2" />
        <h1 class="text-black-50 text-info ">Colis  <span class="float-right styleFont"> @Model.CountColis </span></h1>

    </div>
    <div class="col bg-white shadow m-2 border rounded">
        <img src="/theme/assets/img/success.jpg" class="w-25 m-2" />
        <h1 class="text-black-50">Colis Livre <span class="float-right styleFont"> @Model.CountColisLivre </span></h1>

    </div>
    <div class="col bg-white shadow m-2 border rounded">
        <img src="/theme/assets/img/ignore.jpg" class="w-25 m-2" />
        <h1 class="text-black-50">Colis Retourne <span class="float-right styleFont"> @Model.CountColisRetourne </span></h1>

    </div>
</div>


<div class="row">
    <div class="col bg-white shadow m-2 border rounded">
        <img src="/theme/assets/img/Bons.png" class="w-25 m-2" />
        <h1 class="text-black-50">Bons Livraison <span class="float-right styleFont"> @Model.CountBonsLivraison </span></h1>

    </div>
    <div class="col bg-white shadow  m-2 border rounded">
        <img src="/theme/assets/img/fct.png" class="w-25 m-2" />
        <h1 class="text-black-50">Factures  <span class="float-right styleFont"> @Model.CountFacture </span></h1>

    </div>
    <div class="col bg-white shadow m-2 border rounded">
        <img src="/theme/assets/img/demande.png" class="w-25 m-2" />
        <h1 class="text-black-50">Demande Ramassage <span class="float-right styleFont"> @Model.CountDemande </span></h1>

    </div>

    <div class="col bg-white shadow m-2 border  overflow-hidden rounded">
        <img src="/theme/assets/img/rec.png" class="w-25 m-2" />
        <h1 class="text-black-50">Reclamation  <span class="float-right styleFont"> @Model.CountReclamation </span></h1>

    </div>

</div>



<br />

<div class="row">
    <div class="col">
        <div class="card shadow ">
            <div class="card-header">
                <span style="color:#ff6384" class="card-title"> Statistique Colis</span>
            </div>
            <div class="card-body">



                <button type="button" class="btn p-2" style="background-color:#feb969">
                    Cette année
                </button>
                <br />

                <canvas id="myChart">
                </canvas>
            </div>

        </div>
    </div>
</div>
*@



<div class="row">
</div>


<br />
<br />
@*<script>
    var datas= @Html.Raw(Json.Serialize(ViewBag.ColisLivre));
    var datas2= @Html.Raw(Json.Serialize(ViewBag.ColisRetourne));

    var datas3= @Html.Raw(Json.Serialize(ViewBag.FacturePaye));
    var datas4= @Html.Raw(Json.Serialize(ViewBag.FactureImpaye));

    var datas5= @Html.Raw(Json.Serialize(ViewBag.ReclamationTraite));
    var datas6= @Html.Raw(Json.Serialize(ViewBag.ReclamationEncours));


    const labels = [
    'janvier',
    'février',
    'mars',
    'avril',
    'mai',
    'juin',
    'juillet',
    'août',
    'septembre',
    'octobre',
    'novembre ',

    'décembre ',

    ];

    const data = {
    labels: labels,


    datasets: [{
    label: 'livre',
    backgroundColor: 'rgb(54, 162, 235)',
    borderColor: 'rgb(54, 162, 235)',
    data:   datas
    },{
    label: 'Retourne',
    backgroundColor: 'rgba(255, 99, 132)',
    borderColor: 'rgba(75, 192, 192, 0.2)',
    data:   datas2
    }]
    }
    const config = {
    type: 'bar',
    data: data,
    options: {}
    };
    var ctx=document.getElementById('myChart').getContext('2d');
    //var ctx2=document.getElementById('myChart2').getContext('2d');
    //var ctx3=document.getElementById('myChart3').getContext('2d');

    const myChart = new Chart( ctx, config);

    const labels2 = [
    'Payée',
    'Non Payée'

    ];
    const datax2 = {
    labels: labels2,


    datasets: [{
    label: 'Payees',
    backgroundColor: 'rgb(54, 162, 235)',

    data:   datas3
    },{
    label: 'Impayées',
    backgroundColor: 'rgba(255, 99, 132)',

    data:   datas4
    }]
    }
    const config2 = {
    type: 'doughnut',
    data: datax2,
    options: {}
    };









    const labels3 = ['Traitée', 'En Cours' ];
    const datax3 = {
    labels: labels3,


    datasets: [{
    label: 'Traitée',
    backgroundColor: 'rgb(54, 162, 235)',

    data:   datas5
    },{
    label: 'En Cours',
    backgroundColor: 'rgba(255, 99, 132)',

    data:   datas6
    }]
    }
    const config3 = {
    type: 'doughnut',
    data: datax3,
    options: {}
    };



    </script>*@
<script>
     const countlivre = @Model.CountColisLivre;
      const countenattente = @Model.CountColis;
       const countColisEnvoye = @Model.CountColis;
        const countcolisretourne = @Model.CountColisRetourne;
    const data = {

        labels: ["ColisEnattente", "ColisEnvoye", "Colis Livre", "colisretourne"],
        datasets: [
            {
                data: [countenattente, countColisEnvoye, countlivre, countcolisretourne], // Replace with your actual data values
                backgroundColor: ["#FF6384", "#36A2EB", "#FFCE56", "#4BC0C0"], // Colors for each segment
                hoverBackgroundColor: ["#FF6384", "#36A2EB", "#FFCE56", "#4BC0C0"], // Hover colors
            },
        ],
    };

    const options = {
        responsive: true,
        maintainAspectRatio: false,
        cutout: '60%', // Adjust this value to control the size of the hole in the center (0% for a pie chart, 100% for a solid circle)
    };

    const ctx = document.getElementById("donutChart").getContext("2d");
    const myDonutChart = new Chart(ctx, {
        type: "doughnut",
        data: data,
        options: options,
    });
</script>
